this script contain nested loops
